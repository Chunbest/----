import{a as O}from"./chunk-3QGRG5LW.js";import{a as oe}from"./chunk-WBRNLJXY.js";var M=(e,s=document)=>e[0]==="#"?s.getElementById(e.substring(1)):s.querySelector(e);M.all=(e,s=document)=>s.querySelectorAll(e),M.each=(e,s,l)=>{M.all(e,l).forEach(s)};var _=function(e,s){let l=e.parentNode;l.lastChild===e?l.appendChild(s):l.insertBefore(s,e.nextSibling)},y=function(e,s,l,u){let n=document.createElement(s);switch(Object.assign(n,l),u){case"after":_(e,n);break;case"replace":e.innerHTML="",e.appendChild(n);break;default:e.appendChild(n)}return n},de=function(e,s){let l=document.createElement("div");Object.assign(l,s),e.parentNode.insertBefore(l,e),e.parentNode.removeChild(e),l.appendChild(e)},ce=function(e){return e.getBoundingClientRect().height},I=function(e,s){e.style.width=typeof s=="number"?s+"rem":s},j=function(e){return e.getBoundingClientRect().width},ue=function(e){return e.getBoundingClientRect().top},R=function(e){return e.getBoundingClientRect().left},pe=function(e){return e.style.display},C=function(e,s){return e.style.display=s,e};function D(){Object.assign(HTMLElement.prototype,{find(e){return M.all(e,this)},_class(e,s,l){(s.indexOf(" ")?s.split(" "):[s]).forEach(u=>{e==="toggle"?this.classList.toggle(u,l):this.classList[e](u)})},addClass(e){return this._class("add",e),this},removeClass(e){return this._class("remove",e),this},toggleClass(e,s){return this._class("toggle",e,s),this},hasClass(e){return this.classList.contains(e)}})}var w=oe;D();var me=w.statics.indexOf("//")>0?w.statics:w.root,X={x:0,y:0},W=0,k,$,A=document.getElementsByTagName("body")[0],he=document.documentElement,ye=document.getElementById("container"),ve=document.getElementById("loading"),J=document.getElementById("nav"),ge=document.getElementById("header"),fe=J.querySelector(".toggle"),be=document.getElementById("quick"),we=document.getElementById("sidebar"),Ee=document.getElementById("brand"),U=document.getElementById("tool"),Y,V,F,G,Qe=document.getElementById("search"),Q,Z,z,Te=window.innerHeight,K=window.innerWidth,B=0,N=window.location.href,xe;function Me(e){Q=e}function Ce(e){Z=e}function ke(e){z=e}function Le(e){Te=e}function Ne(e){K=e}function Se(e){W=e}function qe(e){$=e}function H(e){B=e}function Ie(e){N=e}function Ae(e){xe=e}function Be(e){k=e}function He(e){Y=e}function Pe(e){V=e}function Oe(e){F=e}function _e(e){G=e}function je(e){U=e}var Re=(e,s,l,u)=>{let n,m="none";switch(s){case 0:n={opacity:[1,0]};break;case 1:n={opacity:[0,1]},m="block";break;case"bounceUpIn":n={begin(i){C(e,"block")},translateY:[{value:-60,duration:200},{value:10,duration:200},{value:-5,duration:200},{value:0,duration:200}],opacity:[0,1]},m="block";break;case"shrinkIn":n={begin(i){C(e,"block")},scale:[{value:1.1,duration:300},{value:1,duration:200}],opacity:1},m="block";break;case"slideRightIn":n={begin(i){C(e,"block")},translateX:["100%","0%"],opacity:[0,1]},m="block";break;case"slideRightOut":n={translateX:["0%","100%"],opacity:[1,0]};break;default:n=s,m=s.display;break}O(Object.assign({targets:e,duration:200,easing:"linear",begin(){u&&u()},complete(){C(e,m),l&&l()}},n)).play()},L=(e,s,l)=>{O({targets:typeof s=="number"&&typeof e!="number"?e.parentNode:document.scrollingElement,duration:500,easing:"easeInOutQuad",scrollTop:s||(typeof e=="number"?e:e?ue(e)+document.documentElement.scrollTop-Q:0),complete(){l&&l()}}).play()},g={set(e,s){localStorage.setItem(e,s)},get(e){return localStorage.getItem(e)},del(e){localStorage.removeItem(e)}},ee=e=>{if(!e)return;let s=y(A,"div",{innerHTML:e,className:"tip"});setTimeout(()=>{s.addClass("hide"),setTimeout(()=>{A.removeChild(s)},300)},3e3)},De=()=>{w.auto_scroll&&g.set(N,String(X.y))},Xe=e=>{let s=window.location.hash,l=null;if(B){g.del(N);return}s?l=document.querySelector(decodeURI(s)):l=w.auto_scroll?parseInt(g.get(N)):0,l&&(L(l),H(1)),e&&s&&!B&&(L(l),H(1))},We=(e,s)=>{navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(e).then(()=>{s&&s(!0)},()=>{s&&s(!1)}):(console.error("Too old browser, clipborad API not supported."),s&&s(!1))},te=()=>{let e;M.each("div.tab",s=>{if(s.getAttribute("data-ready"))return;let l=s.getAttribute("data-id"),u=s.getAttribute("data-title"),n=document.getElementById(l);n?e=!1:(n=document.createElement("div"),n.className="tabs",n.id=l,n.innerHTML='<div class="show-btn"></div>',n.querySelector(".show-btn").addEventListener("click",()=>{L(n)}),s.parentNode.insertBefore(n,s),e=!0);let m=n.querySelector(".nav ul");m||(m=y(n,"div",{className:"nav",innerHTML:"<ul></ul>"}).querySelector("ul"));let i=y(m,"li",{innerHTML:u});e&&(i.addClass("active"),s.addClass("active")),i.addEventListener("click",d=>{let b=d.currentTarget;n.find(".active").forEach(f=>{f.removeClass("active")}),s.addClass("active"),b.addClass("active")}),n.appendChild(s),s.setAttribute("data-ready",String(!0))})},S=null,P=/mobile/i.test(window.navigator.userAgent),$e=(e,s)=>{let l={el:{},create(){e.player.options.btns&&e.player.options.btns.forEach(t=>{l.el[t]||(l.el[t]=y(e,"div",{className:t+" btn",onclick(r){e.player.fetch().then(()=>{e.player.options.events[t](r)})}}))})}},u={el:null,btns:{mode:void 0,volume:void 0},step:"next",create:()=>{if(!e.player.options.controls)return;let t=u;e.player.options.controls.forEach(r=>{if(t.btns[r])return;let a={onclick(p){t.events[r]?t.events[r](p):e.player.options.events[r](p)}};switch(r){case"volume":a.className=" "+(i.muted?"off":"on"),a.innerHTML='<div class="bar"></div>',a["on"+h.nameMap.dragStart]=t.events.volume,a.onclick=null;break;case"mode":a.className=" "+e.player.options.mode;break;default:a.className="";break}a.className=r+a.className+" btn",t.btns[r]=y(t.el,"div",a)}),t.btns.volume.bar=t.btns.volume.querySelector(".bar")},events:{mode(t){switch(e.player.options.mode){case"loop":e.player.options.mode="random";break;case"random":e.player.options.mode="order";break;default:e.player.options.mode="loop"}u.btns.mode.className="mode "+e.player.options.mode+" btn",g.set("_PlayerMode",e.player.options.mode)},volume(t){t.preventDefault();let r=t.currentTarget,a=!1,p=c=>{c.preventDefault(),e.player.volume(u.percent(c,r)),a=!0},o=c=>{c.preventDefault(),r.removeEventListener(h.nameMap.dragEnd,o),r.removeEventListener(h.nameMap.dragMove,p),a?(e.player.muted(),e.player.volume(u.percent(c,r))):i.muted?(e.player.muted(),e.player.volume(i.volume)):(e.player.muted("muted"),u.update(0))};r.addEventListener(h.nameMap.dragMove,p),r.addEventListener(h.nameMap.dragEnd,o)},backward(t){u.step="prev",e.player.mode()},forward(t){u.step="next",e.player.mode()}},update(t){u.btns.volume.className="volume "+(!i.muted&&t>0?"on":"off")+" btn",I(u.btns.volume.bar,Math.floor(t*100)+"%")},percent(t,r){let a=((t.clientX||t.changedTouches[0].clientX)-R(r))/j(r);return a=Math.max(a,0),Math.min(a,1)}},n={el:null,bar:null,create(){let t=d.current().el;t&&(n.el&&(n.el.parentNode.removeClass("current").removeEventListener(h.nameMap.dragStart,n.drag),n.el.remove()),n.el=y(t,"div",{className:"progress"}),n.el.setAttribute("data-dtime",h.secondToTime(0)),n.bar=y(n.el,"div",{className:"bar"}),t.addClass("current"),t.addEventListener(h.nameMap.dragStart,n.drag),d.scroll())},update(t){I(n.bar,Math.floor(t*100)+"%"),n.el.setAttribute("data-ptime",h.secondToTime(t*i.duration))},seeking(t){t?n.el.addClass("seeking"):n.el.removeClass("seeking")},percent(t,r){let a=((t.clientX||t.changedTouches[0].clientX)-R(r))/j(r);return a=Math.max(a,0),Math.min(a,1)},drag(t){t.preventDefault();let r=d.current().el,a=o=>{o.preventDefault();let c=n.percent(o,r);n.update(c),q.update(c*i.duration)},p=o=>{o.preventDefault(),r.removeEventListener(h.nameMap.dragEnd,p),r.removeEventListener(h.nameMap.dragMove,a);let c=n.percent(o,r);n.update(c),e.player.seek(c*i.duration),i.disableTimeupdate=!1,n.seeking(!1)};i.disableTimeupdate=!0,n.seeking(!0),r.addEventListener(h.nameMap.dragMove,a),r.addEventListener(h.nameMap.dragEnd,p)}},m={el:null,create(){let t=d.current();m.el.innerHTML='<div class="cover"><div class="disc"><img src="'+t.cover+'" class="blur"  alt="music cover"/></div></div><div class="info"><h4 class="title">'+t.name+"</h4><span>"+t.artist+'</span><div class="lrc"></div></div>',m.el.querySelector(".cover").addEventListener("click",e.player.options.events["play-pause"]),q.create(m.el.querySelector(".lrc"))}},i,d={el:null,data:[],index:-1,errnum:0,add:(t,r)=>{r.forEach(a=>{a.group=t,a.name=a.name||a.title||"Meida name",a.artist=a.artist||a.author||"Anonymous",a.cover=a.cover||a.pic,a.type=a.type||"normal",d.data.push(a)})},clear(){d.data=[],d.el.innerHTML="",d.index!==-1&&(d.index=-1,e.player.fetch())},create(){let t=d.el;d.data.map((r,a)=>{if(r.el)return null;let p="list-"+e.player._id+"-"+r.group,o=document.getElementById(p);return o||(o=y(t,"div",{id:p,className:e.player.group?"tab":"",innerHTML:"<ol></ol>"}),e.player.group&&(o.setAttribute("data-title",e.player.options.rawList[r.group].title),o.setAttribute("data-id",e.player._id))),r.el=y(o.querySelector("ol"),"li",{title:r.name+" - "+r.artist,innerHTML:'<span class="info"><span>'+r.name+"</span><span>"+r.artist+"</span></span>",onclick(c){let E=c.currentTarget;if(d.index===a&&n.el){i.paused?e.player.play():e.player.seek(i.duration*n.percent(c,E));return}e.player.switch(a),e.player.play()}}),r}),te()},current(){return this.data[this.index]},scroll(){let t=this.current(),r=this.el.querySelector("li.active");r&&r.removeClass("active");let a=this.el.querySelector(".tab.active");return a&&a.removeClass("active"),r=this.el.querySelectorAll(".nav li")[t.group],r&&r.addClass("active"),a=this.el.querySelectorAll(".tab")[t.group],a&&a.addClass("active"),L(t.el,t.el.offsetTop),this},title(){if(i.paused)return;let t=this.current();document.title="Now Playing..."+t.name+" - "+t.artist+" | "+k},error(){let t=this.current();t.el.removeClass("current").addClass("error"),t.error=!0,this.errnum++}},b={el:null,create(){this.el||(this.el=y(e,"div",{className:"player-info",innerHTML:(e.player.options.type==="audio"?'<div class="preview"></div>':"")+'<div class="controller"></div><div class="playlist"></div>'},"after"),m.el=this.el.querySelector(".preview"),d.el=this.el.querySelector(".playlist"),u.el=this.el.querySelector(".controller"))},hide(){let t=this.el;t.addClass("hide"),window.setTimeout(()=>{t.removeClass("show hide")},300)}},f={type:"audio",mode:"random",btns:["play-pause","music"],controls:["mode","backward","play-pause","forward","volume"],events:{"play-pause"(t){i.paused?e.player.play():e.player.pause()},music(t){b.el.hasClass("show")?b.hide():(b.el.addClass("show"),d.scroll().title())}}},h={random(t){return Math.floor(Math.random()*t)},parse(t){let r=[];return[["music.163.com.*song.*id=(\\d+)","netease","song"],["music.163.com.*album.*id=(\\d+)","netease","album"],["music.163.com.*artist.*id=(\\d+)","netease","artist"],["music.163.com.*playlist.*id=(\\d+)","netease","playlist"],["music.163.com.*discover/toplist.*id=(\\d+)","netease","playlist"],["y.qq.com.*song/(\\w+)(.html)?","tencent","song"],["y.qq.com.*album/(\\w+)(.html)?","tencent","album"],["y.qq.com.*singer/(\\w+)(.html)?","tencent","artist"],["y.qq.com.*playsquare/(\\w+)(.html)?","tencent","playlist"],["y.qq.com.*playlist/(\\w+)(.html)?","tencent","playlist"],["xiami.com.*song/(\\w+)","xiami","song"],["xiami.com.*album/(\\w+)","xiami","album"],["xiami.com.*artist/(\\w+)","xiami","artist"],["xiami.com.*collect/(\\w+)","xiami","playlist"]].forEach(a=>{let p=new RegExp(a[0]).exec(t);p!==null&&(r=[a[1],a[2],p[1]])}),r},fetch(t){let r=[];return new Promise((a,p)=>{t.forEach(o=>{let c=h.parse(o);if(c[0]){let E=JSON.stringify(c),T=g.get(E);T?(r.push(...JSON.parse(T)),a(r)):fetch(`${w.playerAPI}/meting/?server=`+c[0]+"&type="+c[1]+"&id="+c[2]+"&r="+Math.random()).then(v=>v.json()).then(v=>{g.set(E,JSON.stringify(v)),r.push(...v),a(r)}).catch(v=>{})}else r.push(o),a(r)})})},secondToTime(t){let r=c=>isNaN(c)?"00":c<10?"0"+c:""+c,a=Math.floor(t/3600),p=Math.floor((t-a*3600)/60),o=Math.floor(t-a*3600-p*60);return(a>0?[a,p,o]:[p,o]).map(r).join(":")},nameMap:{dragStart:P?"touchstart":"mousedown",dragMove:P?"touchmove":"mousemove",dragEnd:P?"touchend":"mouseup"}};i=null,e.player={_id:h.random(999999),group:!0,load(t){let r="";t&&t.length>0?this.options.rawList!==t&&(this.options.rawList=t,d.clear(),this.fetch()):(r="none",this.pause());for(let a in l.el)C(l.el[a],r);return this},fetch(){return new Promise((t,r)=>{if(d.data.length>0)t(!1);else if(this.options.rawList){let a=[];this.options.rawList.forEach((p,o)=>{a.push(new Promise((c,E)=>{let T=o,v;p.list?(this.group=!0,v=p.list):(T=0,this.group=!1,v=[p]),h.fetch(v).then(x=>{d.add(T,x),c(0)})}))}),Promise.all(a).then(()=>{t(!0)})}}).then(t=>{t&&(d.create(),u.create(),this.mode())})},mode(){let t=d.data.length;if(!t||d.errnum===t)return;let r=u.step==="next"?1:-1,a=()=>{let o=d.index+r;(o>t||o<0)&&(o=u.step==="next"?0:t-1),d.index=o},p=()=>{let o=h.random(t);d.index!==o?d.index=o:a()};switch(this.options.mode){case"random":p();break;case"order":a();break;case"loop":u.step&&a(),d.index===-1&&p();break}this.init()},switch(t){typeof t=="number"&&t!==d.index&&d.current()&&!d.current().error&&(d.index=t,this.init())},init(){let t=d.current();if(!t||t.error){this.mode();return}let r=!1;i.paused||(r=!0,this.stop()),i.setAttribute("src",t.url),i.setAttribute("title",t.name+" - "+t.artist),this.volume(g.get("_PlayerVolume")||"0.7"),this.muted(g.get("_PlayerMuted")),n.create(),this.options.type==="audio"&&m.create(),r===!0&&this.play()},play(){if(S&&S.player.pause(),d.current().error){this.mode();return}i.play().then(()=>{d.scroll()}).catch(t=>{})},pause(){i.pause(),document.title=k},stop(){i.pause(),i.currentTime=0,document.title=k},seek(t){t=Math.max(t,0),t=Math.min(t,i.duration),i.currentTime=t,n.update(t/i.duration)},muted(t){t==="muted"?(i.muted=t,g.set("_PlayerMuted",t),u.update(0)):(g.del("_PlayerMuted"),i.muted=!1,u.update(i.volume))},volume(t){isNaN(t)||(u.update(t),g.set("_PlayerVolume",t),i.volume=t)},mini(){b.hide()}};let q={el:null,data:null,index:0,create(t){let r=d.index,a=d.current().lrc,p=o=>{if(r!==d.index)return;this.data=this.parse(o);let c="";this.data.forEach((E,T)=>{c+="<p"+(T===0?' class="current"':"")+">"+E[1]+"</p>"}),this.el=y(t,"div",{className:"inner",innerHTML:c},"replace"),this.index=0};a.startsWith("http")?this.fetch(a,p):p(a)},update(t){if(this.data&&(this.index>this.data.length-1||t<this.data[this.index][0]||!this.data[this.index+1]||t>=this.data[this.index+1][0])){for(let r=0;r<this.data.length;r++)if(t>=this.data[r][0]&&(!this.data[r+1]||t<this.data[r+1][0])){this.index=r;let a=-(this.index-1);this.el.style.transform="translateY("+a+"rem)",this.el.getElementsByClassName("current")[0].removeClass("current"),this.el.getElementsByTagName("p")[r].addClass("current")}}},parse(t){if(t){t=t.replace(/([^\]^\n])\[/g,(o,c)=>c+`
[`);let r=t.split(`
`),a=[],p=r.length;for(let o=0;o<p;o++){let c=r[o].match(/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g),E=r[o].replace(/.*\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g,"").replace(/<(\d{2}):(\d{2})(\.(\d{2,3}))?>/g,"").trim();if(c){let T=c.length;for(let v=0;v<T;v++){let x=/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/.exec(c[v]),se=x[1]*60,ne=parseInt(x[2]),le=x[4]?parseInt(x[4])/((x[4]+"").length===2?100:1e3):0,ie=se+ne+le;a.push([ie,E])}}}return a=a.filter(o=>o[1]),a.sort((o,c)=>o[0]-c[0]),a}else return[]},fetch(t,r){fetch(t).then(a=>a.text()).then(a=>{r(a)}).catch(a=>{})}},re={onerror(){d.error(),e.player.mode()},ondurationchange(){i.duration!==1&&n.el.setAttribute("data-dtime",h.secondToTime(i.duration))},onloadedmetadata(){e.player.seek(0),n.el.setAttribute("data-dtime",h.secondToTime(i.duration))},onplay(){e.parentNode.addClass("playing"),ee(this.getAttribute("title")),S=e},onpause(){e.parentNode.removeClass("playing"),S=null},ontimeupdate(){this.disableTimeupdate||(n.update(this.currentTime/this.duration),q.update(this.currentTime))},onended(t){e.player.mode(),e.player.play()}};return(t=>{e.player.created||(e.player.options=Object.assign(f,t),e.player.options.mode=g.get("_PlayerMode")||e.player.options.mode,l.create(),i=y(e,e.player.options.type,re),b.create(),e.parentNode.addClass(e.player.options.type),e.player.created=!0)})(s),e},Je=(e,s,l,u)=>{if(u)l();else{let n=document.createElement("script");n.onload=function(m,i){(i||!n.readyState)&&(console.log("abort!"),n.onload=null,n=void 0,!i&&l&&setTimeout(l,0))},n.src=e,n.integrity=s,n.crossOrigin="anonymous",document.head.appendChild(n)}},Ue=e=>{let{text:s,parentNode:l,id:u,className:n,type:m,src:i,dataset:d}=e,b=s||e.textContent||e.innerHTML||"";l.removeChild(e);let f=document.createElement("script");u&&(f.id=u),n&&(f.className=n),m&&(f.type=m),i&&(f.src=i,f.async=!1),d.pjax!==void 0&&(f.dataset.pjax=""),b!==""&&f.appendChild(document.createTextNode(b)),l.appendChild(f)},ae=(e,s)=>{let l=w[e][s].url;return l.startsWith("https")?l:l.startsWith("http")?(console.warn(`Upgrade vendor ${e}/${s} to HTTPS, Please use HTTPS url instead of HTTP url.`),l.replace("http","https")):`/${l}`},Ye=(e,s,l)=>{LOCAL[e]&&Je(ae("js",e),w.js[e].sri,s||function(){window[e]=!0},l||window[e])},Ve=(e,s)=>{if(!window["css"+e]&&LOCAL[e]){let l={rel:"stylesheet",href:ae("css",e)},u=w.css[e];u.local||(l.integrity=u.sri,l.crossOrigin="anonymous"),y(document.head,"link",l),window["css"+e]=!0}};export{M as a,_ as b,y as c,de as d,ce as e,I as f,pe as g,C as h,D as i,w as j,me as k,X as l,W as m,k as n,$ as o,A as p,he as q,ye as r,ve as s,J as t,ge as u,fe as v,be as w,we as x,Ee as y,U as z,Y as A,V as B,F as C,G as D,Z as E,z as F,K as G,Me as H,Ce as I,ke as J,Le as K,Ne as L,Se as M,qe as N,H as O,Ie as P,Ae as Q,Be as R,He as S,Pe as T,Oe as U,_e as V,je as W,Re as X,L as Y,g as Z,ee as _,De as $,Xe as aa,We as ba,te as ca,$e as da,Ue as ea,Ye as fa,Ve as ga};/*! For license information please see chunk-FOAYUUKQ.js.LEGAL.txt */
